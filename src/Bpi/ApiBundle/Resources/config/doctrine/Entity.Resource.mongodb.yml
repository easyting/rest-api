Bpi\ApiBundle\Domain\Entity\Resource:
  type: embeddedDocument
  fields:
    title:
      type: string
    body:
      type: string
    teaser:
      type: string
    ctime:
      type: date
    type:
      type: string
    copyleft:
      embedded: true
      type: one
      strategy: pushAll
      targetDocument: Bpi\ApiBundle\Domain\ValueObject\Copyleft
    assets:
      reference: true
      type: many
      targetDocument: Bpi\ApiBundle\Domain\Entity\Asset
      cascade: all
      strategy: pushAll
  lifecycleCallbacks:
    postLoad: [ wakeup ]
